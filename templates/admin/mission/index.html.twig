{% extends 'admin/base.html.twig' %}

{% block title %}Liste des missions
{% endblock %}

{% block body %}

	<div class="card">
		<div class="card-header">
            <h3>Liste des missions</h3>
        </div>
		<div class="card-body">
        <a href="{{ path('mission_new') }}" class="btn btn-primary" ><i class="fas fa-plus"></i></a>
			<table class="table">
				<thead>
					<tr>

						<th>Nom</th>
						<th>Date de fin</th>
						<th>Difficulté</th>
						<th>Etat</th>
						<th>actions</th>
					</tr>
				</thead>
				<tbody>
					{% for mission in missions %}
						<tr>
							<td>{{ mission.nom }}</td>
							<td>{{ mission.dateFin ? mission.dateFin|date('Y-m-d') : '' }}</td>
							<td>{{ mission.difficulte }}</td>
							<td>{{ mission.etat == 0 ? "Disponible" : mission.etat == 1 ? "En cours" : mission.etat == 2 ? "Terminée" }}</td>
							<td>
								<a href="{{ path('mission_show', {'id': mission.id}) }}" class="btn btn-info" ><i class="fas fa-eye"></i></a>
								<a href="{{ path('mission_edit', {'id': mission.id}) }}" class="btn btn-warning text-light"><i class="fas fa-edit"></i></a>
							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="7">Aucune donnée</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
